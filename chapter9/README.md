# 9章 変数の読みやすさ

## 9.1 変数を削除する

* 一時変数使わなくても自明なら使わなくてもいいよね
  * 説明変数として一時変数にするのはよきかな
* breakつかっちゃいなよ

## 9.2 変数のスコープを縮める

* 関数グローバルな変数をなるべく作らない
  * 使ったとしてもスコープの見える化をする

```php
// 変数宣言部
$counter = 0;
/**
* 何かしらの処理1
*/

$counter = 0; // ここ置いたほうがいいよね
while($isReadable) {
  // 何かしらの処理2
  $counter++;
}
```

$counterの計算に誤りがあった時に、何かしら処理1の影響を考えなくて済む  

* メンバ変数を使う理由がないなら、インスタンスグローバルではなくメソッド内のみで、グローバルにする

* staticメソッドを使えば、メンバ変数とは関係ない(インスタンスメソッドを使わない)
  * ほんとに？お決まりの値を返すメソッドならそれでいいかもしれないけど...オーバライド出来ないし

* 大きなクラスを小さなクラスに分割すること
  * そもそも単一責任の原則に則り設計しなさい

* ifなどの限定されたスコープの中で、変数宣言できるならそうしたほうが良い
* クロージャとか使うといいよ

* 関数グローバルな言語、JS / Python / PHP


```php
while($isReadable) {
  $hoge  =  $this->getHoge();
}

return $hoge;
```

```php
$hoge;
while($isReadable) {
  $hoge  =  $this->getHoge();
}

return $hoge;
```

* 定数の位置を下げる
  * 意味のある単位でまとめてね


## 9.3 変数は一度だけ書き込む

* constとかValueObjectパターンは、イミュータブルが保証されるので値が変わらないことを保証できる
  * メソッド内で、同じ変数を使いまわされると分かりにくい
  * 再び代入する必要性が出てきたら別の変数を用意しよう

```php
$hoge = 10;
$hoge = $this->Convert($hoge);
```

```php
$hoge = 10;
$converted = $this->Convert($hoge);
```

## 9.4 最後の列


* ガード節っぽいお話


## 9.5 まとめ

* まとめ、不要なコードは削ろうね
* あなた以外のコーダーを迷わせたら負けだよ
